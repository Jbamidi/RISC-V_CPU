# ‚öôÔ∏è Control Signal Table

This table lists the control signals generated by the **Control Unit** for each instruction type.  
Each control signal determines how the datapath components behave during instruction execution.

---

## üß© Control Signals per Instruction Type

| Instruction Type | Opcode (Binary) | RegWrite | ALU_Src | MemRead | MemWrite | MemToReg | Branch | ALU_Op | Description |
|------------------|-----------------|-----------|----------|----------|-----------|-----------|---------|---------|
| **R-Type** | `0110011` | 1 | 0 | 0 | 0 | 0 | 0 | 10 | ALU operation between two registers |
| **I-Type** | `0010011` | 1 | 1 | 0 | 0 | 0 | 0 | 11 | ALU operation with immediate |
| **Load (LW)** | `0000011` | 1 | 1 | 1 | 0 | 1 | 0 | 00 | Read data from memory |
| **Store (SW)** | `0100011` | 0 | 1 | 0 | 1 | 0 | 0 | 00 | Write data to memory |
| **Branch** | `1100011` | 0 | 0 | 0 | 0 | 0 | 1 | 01 | Conditional branch based on comparison |
| **JAL** | `1101111` | 1 | X | 0 | 0 | 0 | 0 | XX | Jump and link (stores PC+4 in rd) |
| **JALR** | `1100111` | 1 | 1 | 0 | 0 | 0 | 0 | XX | Jump to address in rs1 + imm, stores PC+4 in rd |
| **LUI / AUIPC** | `0110111`, `0010111` | 1 | 1 | 0 | 0 | 0 | 0 | 00 | Load or add upper immediate to PC |

---

## üí° Notes

- `X` means ‚Äúdon‚Äôt care‚Äù ‚Äî the signal value is irrelevant for that instruction.
- `ALU_Op` determines which family of operations the ALU will execute:
  - `00` ‚Üí Load/Store (ADD for address calculation)
  - `01` ‚Üí Branch (SUB or compare)
  - `10` ‚Üí R-Type (ALU from funct3/funct7)
  - `11` ‚Üí I-Type (ALU with immediate)

---

## üß† Control Signal Descriptions

| Signal | Bit Width | Function | Meaning of Bit Values |
|---------|------------|-----------|------------------------|
| **`RegWrite`** | 1 bit | Enables writing data to the register file. | `1` = Write `rd` register on the next clock. <br> `0` = Do not modify any register. |
| **`ALU_Src`** | 1 bit | Chooses the second ALU input. | `0` = Use register `rs2`. <br> `1` = Use immediate from `imm_gen`. |
| **`MemRead`** | 1 bit | Enables reading from data memory. | `1` = Read `rdata` from DMEM (for LW). <br> `0` = No memory read. |
| **`MemWrite`** | 1 bit | Enables writing to data memory. | `1` = Write `wdata` to DMEM (for SW). <br> `0` = No memory write. |
| **`MemToReg`** | 1 bit | Selects data source for register writeback. | `0` = Write ALU result to register file. <br> `1` = Write DMEM read data to register file (LW). |
| **`Branch`** | 1 bit | Signals branch control logic to evaluate branch condition. | `1` = Conditional branch active. <br> `0` = No branch (PC+4). |
| **`ALU_Op`** | 2 bits | Encodes ALU operation category for the `ALU_Control` module. | `00` = Load/Store (ADD). <br> `01` = Branch (SUB/Compare). <br> `10` = R-Type (funct3/funct7 decoded). <br> `11` = I-Type (funct3/funct7 decoded). |

---

## üß© How Control Signals Drive the Datapath

1. **`ALU_Src`** decides if ALU input B is from `rs2` or immediate.  
2. **`ALU_Op`** tells `ALU_Control` which operation family to select.  
3. **`MemRead`** and **`MemWrite`** control data memory access.  
4. **`MemToReg`** chooses whether writeback comes from ALU or DMEM.  
5. **`RegWrite`** enables the register file write port.  
6. **`Branch`** triggers conditional PC change via `pc_next`.

---

‚úÖ **Summary:**  
These 7 control signals fully control your single-cycle CPU datapath.  
Every instruction in the RISC-V ISA is implemented by a unique combination of these bits ‚Äî allowing all computation, memory access, and control flow to occur within a single clock cycle.
